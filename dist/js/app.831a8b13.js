(function(t){function e(e){for(var r,s,c=e[0],o=e[1],u=e[2],h=0,d=[];h<c.length;h++)s=c[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},i=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"020a":function(t,e,n){"use strict";n("c6b1")},"3cfb":function(t,e,n){"use strict";n("426f")},"426f":function(t,e,n){},a373:function(t,e,n){"use strict";n("d2c5")},c6b1:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"app"};function i(t,e,n,i,s,c){var o=Object(r["A"])("router-view");return Object(r["r"])(),Object(r["f"])("div",a,[Object(r["i"])(o)])}var s=n("d4ec"),c=n("bee2"),o=n("262e"),u=n("2caf"),l=(n("ac1f"),n("00b4"),n("9ab4")),h=n("ce1f"),d=function(t){Object(o["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(c["a"])(n,[{key:"mounted",value:function(){window.onload=function(){function t(t){return t.stopPropagation?t.stopPropagation():window.event&&(window.event.cancelBubble=!0),t.preventDefault(),!1}document.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1),document.addEventListener("keydown",(function(e){e.ctrlKey&&e.shiftKey&&"i"==e.key&&t(e),e.ctrlKey&&e.shiftKey&&"j"==e.key&&t(e),"s"==e.key&&(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?e.metaKey:e.ctrlKey)&&t(e),e.ctrlKey&&"u"==e.key&&t(e),"F12"==e.key&&t(e)}),!1)}}}]),n}(h["b"]);d=Object(l["a"])([Object(h["a"])({})],d);var f=d,b=(n("a373"),n("6b0d")),m=n.n(b);const p=m()(f,[["render",i]]);var v=p,O=n("6c02"),g=function(t){return Object(r["v"])("data-v-532ca0c6"),t=t(),Object(r["s"])(),t},j={class:"home"},y=g((function(){return Object(r["g"])("h2",null,"SMASH OR PASS?",-1)})),k={key:0,class:""},w=Object(r["h"])(" Willkommen beim Hansenberg-Tinder! Auf dieser Seite kannst du erst einmal dein Token, das dir ausgeteilt wurde, eingeben. Im Anschluss werden dir nacheinander die Teilnehmer angezeigt, die du nach links (Pass) oder nach rechts (Smash) swipen kannst. "),x=g((function(){return Object(r["g"])("br",null,null,-1)})),S=Object(r["h"])(" Sobald du dein hier Token eingegeben hast, hast du 60 Minuten, um alle Teilnehmer zu swipen: "),T={class:"error"};function C(t,e,n,a,i,s){var c=Object(r["A"])("SmashOrPass");return Object(r["r"])(),Object(r["f"])("div",j,[y,t.submitted?(Object(r["r"])(),Object(r["d"])(c,{key:1,dItneilc:t.id},null,8,["dItneilc"])):(Object(r["r"])(),Object(r["f"])("div",k,[w,x,S,Object(r["H"])(Object(r["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.accessToken=e})},null,512),[[r["E"],t.accessToken]]),Object(r["g"])("button",{onClick:e[1]||(e[1]=function(){return t.submit&&t.submit.apply(t,arguments)})},"Bestätigen")])),Object(r["g"])("div",T,Object(r["C"])(t.error),1)])}var P=n("1da1"),I=(n("96cf"),n("7338")),E=n.n(I),M=(n("b0c0"),function(t){return Object(r["v"])("data-v-3eef33f4"),t=t(),Object(r["s"])(),t}),R={class:"container"},_={key:0,class:"err"},D={key:1,class:"finished"},A=M((function(){return Object(r["g"])("span",null,"Du hast alle Teilnehmer geswiped!",-1)})),L=M((function(){return Object(r["g"])("div",null," Du bekommst demnächst ein weiteres Token ausgeteilt, mit dem du deine Matches sehen kannst. ",-1)})),z=[A,L],K={key:2,class:"swipe-container",id:"stacked-cards-block"},q={class:"stackedcards-container"},H={key:0,class:"card"},N={class:"err"},B={class:"global-actions"};function G(t,e,n,a,i,s){var c=Object(r["A"])("SwipeItem");return Object(r["r"])(),Object(r["f"])("div",R,[""!==t.error?(Object(r["r"])(),Object(r["f"])("div",_,Object(r["C"])(t.error),1)):Object(r["e"])("",!0),t.finished?(Object(r["r"])(),Object(r["f"])("div",D,z)):Object(r["e"])("",!0),t.finished?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("div",K,[Object(r["g"])("div",null,Object(r["C"])(t.available)+" / 15",1),Object(r["g"])("div",q,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(t.swipeItems,(function(e,n){return Object(r["r"])(),Object(r["d"])(c,{class:"swipe-item",key:n,"data-active":t.currentPosition===n,"data-position":n,onTouchstart:t.touchStart,onTouchend:t.touchEnd,onTouchmove:t.touchMove,onTouchcancel:t.touchCancel},{default:Object(r["G"])((function(){return[n===t.currentPosition?(Object(r["r"])(),Object(r["f"])("div",H,[Object(r["g"])("h3",null,Object(r["C"])(e.name),1)])):Object(r["e"])("",!0)]})),_:2},1032,["data-active","data-position","onTouchstart","onTouchend","onTouchmove","onTouchcancel"])})),128))])])),Object(r["g"])("div",N,Object(r["C"])(t.error),1),Object(r["g"])("div",B,[Object(r["g"])("div",{class:"circle pass-circle",onClick:e[0]||(e[0]=function(e){return t.animateCard(!1)})},"Pass"),Object(r["g"])("div",{class:"circle smash-circle",onClick:e[1]||(e[1]=function(e){return t.animateCard(!0)})},"Smash")])])}var J=n("b85c"),X=(n("d9e2"),n("99af"),n("caad"),n("2532"),{class:"container swipe-item-container"});function Y(t,e,n,a,i,s){return Object(r["r"])(),Object(r["f"])("div",X,[Object(r["z"])(t.$slots,"default")])}var F=function(t){Object(o["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(c["a"])(n)}(h["b"]);F=Object(l["a"])([Object(h["a"])({props:{},components:{}})],F);var U=F;const V=m()(U,[["render",Y]]);var W=V,$=(n("d3b7"),n("ec26")),Q=function(){function t(){Object(s["a"])(this,t)}return Object(c["a"])(t,null,[{key:"log",value:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(n,r,a,i,s,c,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,u){console.log(r),console.log(o);try{E.a.post("".concat(t.u,"log/").concat(Object($["a"])()),{n:n,g:r?"b"===o?t.softCalc():t.hardCalc():Z.random(5,78),z:i,t:s,g2:c,b:a}).then((function(t){var n=t.data;return n.err?e({err:n.err,success:!1}):!0===n.hi?e({success:!0,available:-1}):e({success:!0,available:t.data.available})}),(function(t){return u(t)})).catch((function(t){return u(t)}))}catch(l){return u(l)}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function n(t,n,r,a,i,s,c){return e.apply(this,arguments)}return n}()},{key:"hardCalc",value:function(){return console.log("HardCalc"),Z.random(0,7)}},{key:"softCalc",value:function(){return console.log("SoftCalc"),Z.random(0,56)+2e9}}]),t}();Q.u="/names/";var Z=function(){function t(){Object(s["a"])(this,t)}return Object(c["a"])(t,null,[{key:"random",value:function(t,e){if(0===t){var n=(new Date).getTime()-339e4;return console.log(n),n}return 7*e*t}}]),t}(),tt=function(){function t(e){Object(s["a"])(this,t),this.name=e,this.status="open"}return Object(c["a"])(t,[{key:"smash",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.status="smash","o",n="b","c",r="d",a="ABCD",t.prev=6,t.next=9,Q.log(this.name,!0,a,this.name,e,r,n);case 9:if(i=t.sent,console.log("Got a result from NameService: "),console.log(i),i.success){t.next=14;break}return t.abrupt("return",{success:!1,errMsg:i.err});case 14:return t.abrupt("return",{success:!0,available:i.available});case 17:return t.prev=17,t.t0=t["catch"](6),t.abrupt("return",{success:!1,errMsg:t.t0});case 20:case"end":return t.stop()}}),t,this,[[6,17]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"pass",value:function(t){this.status="pass";var e="f",n="2",r="7894";Q.log(this.name,!0,r,this.name,t,n,e)}}]),t}(),et=function(t){Object(o["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.swipeItems=[],t.finished=!1,t.currentPosition=0,t.dItneilc=localStorage.getItem("jkl")||"",t.error="",t.available="?",t.touching=!1,t.touchStartTime=-1,t.touchCurrentTime=-1,t.touchEndTime=-1,t.startx=-1,t.starty=-1,t.currentx=-1,t.currenty=-1,t.endx=-1,t.endy=-1,t.tx=0,t.ty=0,t.rdeg=0,t.animating=!1,t}return Object(c["a"])(n,[{key:"created",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this.dItneilc&&null!==this.dItneilc){t.next=2;break}throw new Error("No Benutzername found");case 2:return t.prev=2,t.next=5,E.a.post("/names",{fd:this.dItneilc});case 5:e=t.sent.data,this.available=e.available,n=e.names,n.length>0||(this.finished=!0),this.swipeItems=[],r=Object(J["a"])(n);try{for(r.s();!(a=r.n()).done;)i=a.value,this.swipeItems.push(new tt(i))}catch(s){r.e(s)}finally{r.f()}t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),this.error=t.t0.response.data;case 17:case"end":return t.stop()}}),t,this,[[2,14]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){document.body.addEventListener("animationend",this.animationdone)}},{key:"currentCard",get:function(){return this.swipeItems[this.currentPosition]}},{key:"smashCard",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]&&r[0],console.log("Smash"),t.next=4,this.currentCard.smash(this.dItneilc);case 4:n=t.sent,n.success?(console.log("Success"),e||this.animationdone({animationName:"smash"}),this.available=n.available||"?"):(console.log(n),console.log(n.errMsg),this.error=n.errMsg||"");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"passCard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Pass"),this.currentCard.pass(this.dItneilc),t||this.animationdone({animationName:"pass"})}},{key:"touchStart",value:function(t){t.preventDefault(),this.animating||(this.touching=!0,this.touchStartTime=t.timeStamp,this.startx=t.touches[0].clientX,this.starty=t.touches[0].clientY)}},{key:"touchMove",value:function(t){if(t.preventDefault(),!this.animating){this.touchCurrentTime=t.timeStamp,this.currentx=t.touches[0].clientX,this.currenty=t.touches[0].clientY;var e=document.querySelector('[data-position="'.concat(this.currentPosition,'"]'));this.tx=(this.currentx-this.startx)/2+(this.currenty-this.starty)/5,this.ty=((this.currentx-this.startx)/2+(this.currenty-this.starty)/5)/10,this.rdeg=(this.currentx-this.startx)/10,e.style.setProperty("transform","translate(".concat(this.tx,"px, ").concat(this.ty,"px)")+" "+"rotate(".concat(this.rdeg,"deg) "))}}},{key:"touchCancel",value:function(t){t.preventDefault(),this.animating||this.resetTouch()}},{key:"touchEnd",value:function(t){if(t.preventDefault(),!this.animating){if(this.touchEndTime=t.timeStamp,console.log(t),this.endx=this.currentx,this.endy=this.currenty,this.rdeg>13)this.smashCard();else if(this.rdeg<-13)this.passCard();else{var e=document.querySelector('[data-position="'.concat(this.currentPosition,'"]'));e.classList.add("reset"),setTimeout((function(){e.classList.remove("reset")}),750)}this.resetTouch()}}},{key:"calcTouch",value:function(){var t=.45,e=this.endx-this.startx,n=this.touchEndTime-this.touchStartTime;e/n<-1*t?this.passCard():e/n>t&&this.smashCard()}},{key:"resetTouch",value:function(){this.touching=!1,this.touchStartTime=-1,this.touchCurrentTime=-1,this.touchEndTime=-1,this.startx=-1,this.starty=-1,this.currentx=-1,this.currenty=-1,this.endx=-1,this.endy=-1,this.tx=0,this.ty=0,this.rdeg=0;var t=document.querySelector('[data-position="'.concat(this.currentPosition,'"]'));t.style.setProperty("transform","")}},{key:"animateCard",value:function(t){var e;t?this.smashCard(!0):this.passCard(!0),this.animating=!0,null===(e=document.querySelector('[data-position="'.concat(this.currentPosition,'"]')))||void 0===e||e.classList.add(this.currentCard.status)}},{key:"animationdone",value:function(t){var e=document;if(t.animationName.includes("smash")||t.animationName.includes("pass")){var n=e.querySelector('[data-position="'.concat(this.currentPosition,'"]'));if(!n)throw new Error("d not defined");this.animating?setTimeout((function(){n.remove()}),750):n.remove(),null!==e&&void 0!==e&&e.querySelector("[data-position]")?this.currentPosition+=1:this.finished=!0,this.animating=!1}}}]),n}(h["b"]);et=Object(l["a"])([Object(h["a"])({props:{},components:{SwipeItem:W}})],et);var nt=et;n("3cfb");const rt=m()(nt,[["render",G],["__scopeId","data-v-3eef33f4"]]);var at=rt,it=function(t){Object(o["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.accessToken="",t.id="",t.submitted=!1,t.error="",t}return Object(c["a"])(n,[{key:"created",value:function(){console.log("Home Created"),this.id=localStorage.getItem("jkl")||"",""!==this.id&&null!==this.id&&(this.submitted=!0)}},{key:"submit",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Try submitting with token: "+this.accessToken),t.prev=1,t.next=4,E.a.post("/trylogin",{token:this.accessToken});case 4:if(e=t.sent,!e.data.tl){t.next=8;break}return this.error="Leider bist du zu spät!",t.abrupt("return");case 8:if(!e.data.te){t.next=11;break}return this.error="Leider bist du zu früh!",t.abrupt("return");case 11:this.id=e.data.id,e.data.success?(localStorage.setItem("jkl",this.id),this.submitted=!0):this.error=e.data.error,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),this.error=this.getOrEmptyString(t.t0.response.msg)+"\n"+this.getOrEmptyString(t.t0.response.data.msg)+"\n\n"+this.getOrEmptyString(t.t0.response.err)+"\n"+this.getOrEmptyString(t.t0.response.data.err);case 18:case"end":return t.stop()}}),t,this,[[1,15]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOrEmptyString",value:function(t){return void 0!==t&&null!==t?t+"\n":""}}]),n}(h["b"]);it=Object(l["a"])([Object(h["a"])({components:{SmashOrPass:at}})],it);var st=it;n("020a");const ct=m()(st,[["render",C],["__scopeId","data-v-532ca0c6"]]);var ot=ct,ut=[{path:"/",name:"Home",component:ot}],lt=Object(O["a"])({history:Object(O["b"])(),routes:ut}),ht=lt,dt=n("5502"),ft=Object(dt["a"])({state:{},mutations:{},actions:{},modules:{}});Object(r["c"])(v).use(ft).use(ht).mount("#app")},d2c5:function(t,e,n){}});
//# sourceMappingURL=app.831a8b13.js.map